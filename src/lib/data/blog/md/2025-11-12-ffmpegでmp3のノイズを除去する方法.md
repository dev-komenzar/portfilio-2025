---
id: "remove-noise-with-ffmpeg"
title: ffmpegでmp3のノイズを除去する方法
description: "コマンドラインで音声ファイルのノイズを除去する方法"
publishedAt: 2025-11-12T13:01:49.475Z
preview: ""
draft: false
tags: []
---

音声ファイルのノイズを除去しようと思って調べました。コマンドラインでできる方法がよかったので`ffmpeg`のコマンドを探したところ、

<https://www.amirsharif.com/using-ffmpeg-to-reduce-background-noise/>

こちらで`ffmpeg`をつかって動画から音声ファイルを切り離しノイズ除去までやっていました。当方macOSなので`ffmpeg`は`homebrew`でインストールしました。音声除去コマンドは↓

```bash
ffmpeg -i <audiopath> -af arnndn=m=<path to model> <output file>
```

（リンク先のコマンドに`<output file>`を追加しました）
`<path to model>`に入るのはなんでしょうか。`-af`オプションは`ffmpeg`のfiltergraphをつくるようです[（公式）](https://ffmpeg.org/ffmpeg.html#toc-Audio-Options)。いろいろなフィルターがあると思いますが、ニューラルネットワークでトレーニングされたものがありました。

<https://github.com/GregorR/rnnoise-models>

このリポジトリをローカルにクローンします。このリポジトリには5種類のフィルターがあります。

|                   | General               | Voice                 | Speech                |
| ----------------- | --------------------- | --------------------- | --------------------- |
| General           | marathon-prescription | leavened-quisling     | orig                  |
| Recording         | conjoined-burgers     | beguiling-drafter     | somnolent-hogwash     |

注意事項として、Speechは「話し声」、Voiceが「笑い声などをふくむ人間の発する音」とされています。それぞれの名前に意味はないそうです。

具体例
変換するファイルが`~/audio.mp3`で、フィルターのリポジトリを`~/rnnoise-models/`にクローンしたとすると、

```bash
ffmpeg -i ~/audio.mp3 -af arnndn=m=~/rnnoise-models/conjoined-burgers-2018-08-28/cb.rnnn
```

この例では`conjoined-burgers`のフィルタを使っています。５つのフィルターを試しましたが、今回は`conjoined-burgers`がいちばん聞きやすかったです。
